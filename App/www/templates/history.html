<ion-view view-title="Historique" ng-controller="HistoryCtrl">
  <ion-content>
    <ion-list>
      <div class="row">
        <div class="col col-60"></div>
        <div class="col col-20" ng-repeat="actionButton in actionButtons">
          <button class="button button-icon" style="text-align: center; color: white; font-weight: bold;
                            width: 100%; height: 100%; border-color: black; background-color: #5bc0de"
                  ng-click="launchAction($index)">
            <i class="icon {{actionButton.icon}}" ng-if="!actionButton.loading"></i>
            <i class="icon fa fa-spinner fa-pulse" ng-if="actionButton.loading"></i>
          </button>
        </div>
      </div>
      <div class="padding" ng-show="noHistory">
        {{ noHistoryMsg }}
      </div>
      <ion-item ng-repeat="history in histories"
                style="padding-bottom: 0px !important; padding-top: 0px !important">
        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col">
                <h3>{{ history.title }}</h3>
              </div>
            </div>
            <div class="row">
              <div class="col col-10">
                <i class="icon ion-happy-outline" ng-if="history.info.statut"></i>
                <i class="icon ion-sad" ng-if="!history.info.statut"></i>
              </div>
              <div class="col">
                <h4>{{ history.date }}</h4>
              </div>
            </div>
          </div>
          <div class="col col-10">
            <button class="button button-icon ion-information-circled" ng-click="showLog(history)"></button>
          </div>
          <div class="col col-10">
            <button class="button button-icon ion-trash-a" ng-click="delete(history)"></button>
          </div>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
